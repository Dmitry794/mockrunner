<?xml version="1.0"?>
<project name="mockrunner" default="jar" basedir=".">

	<target name="init">
		
		<tstamp/>
		
        <property name="version" value="0.1"/>
        <property name="timestamp" value="${DSTAMP}-${TSTAMP}"/>
        
		<property name="build" value="build"/>
		<property name="src" value="src"/>
		<property name="bin" value="bin"/>
		<property name="lib" value="lib"/>
		
		<mkdir dir="${build}"/>
		<mkdir dir="${bin}"/>
		
		<filter token="version" value="${version}"/>
        <filter token="timestamp" value="${timestamp}"/>
		
		<path id="classpath">
            <pathelement location="${build}"/>
            <fileset dir="${lib}">
                <include name="*.jar"/>
            </fileset>
        </path>
		
	</target>
		
	<target name="compile" depends="init">	

		<javac srcdir="${src}" destdir="${build}">
		 	<classpath>
                <path refid="classpath"/>
            </classpath>
		</javac>

	</target>

	<target name="jar" depends="compile">
		<copy todir="${build}" filtering="true">
    		<fileset dir="${basedir}">
				<include name="*.txt"/>
			</fileset>
  		</copy>
		<jar jarfile="${bin}/mockrunner.jar">
			<fileset dir="${src}"/>
			<fileset dir="${build}"/>
		</jar>
	</target>
	
	<target name="clean" depends="init">
	
		<delete dir="${bin}"/>
        <delete dir="${build}"/>
        
	</target>

</project>