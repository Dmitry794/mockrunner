<?xml version="1.0"?>
<project name="mockrunner" default="release" basedir=".">

    <property file=".ant.properties" />

    <target name="checkJDK1.3" unless="java1.3.home">
        <echo>
         Property "java1.3.home" not set. Please create a file
         ".ant.properties" in this directory and set "java1.3.home"
         to your JDK1.3 installation if you would like to build the
         JDK1.3 version.
        </echo>
    </target>
    
    <target name="checkJDK1.4" unless="java1.4.home">
        <echo>
         Property "java1.4.home" not set. Please create a file
         ".ant.properties" in this directory and set "java1.4.home"
         to your JDK1.4 installation.
        </echo>
    </target>

    <target name="checkJDK1.5" unless="java1.5.home">
        <echo>
         Property "java1.5.home" not set. Please create a file
         ".ant.properties" in this directory and set "java1.5.home"
         to your JDK1.5 installation.
        </echo>
    </target>
    
    <target name="checkJDK1.6" unless="java1.6.home">
        <echo>
         Property "java1.6.home" not set. Please create a file
         ".ant.properties" in this directory and set "java1.6.home"
         to your JDK1.6 installation.
        </echo>
    </target>
    
    <target name="checkBuildJ2EE1.3" unless="dobuild.j2ee1.3">
        <echo>
         Property "build.j2ee1.3" not set or set to false. Please 
         create a file ".ant.properties" in this directory and set 
         "build.j2ee1.3" to true if you would like build the J2EE 1.3
         compatible jars.
        </echo>
    </target>
    
    <target name="checkBuildJ2EE1.4" unless="dobuild.j2ee1.4">
        <echo>
         Property "build.j2ee1.4" not set or set to false. Please 
         create a file ".ant.properties" in this directory and set 
         "build.j2ee1.4" to true if you would like build the J2EE 1.4
         compatible jars.
        </echo>
    </target>

    <target name="checkJava2HTML" unless="java2html.home">
	    <echo>
	     Property "java2html.home" not set. Please create a file
	     ".ant.properties" in this directory and set "java2html.home"
	     to your Java2HTML installation (location of j2h.jar) if you
	     would like to generate the documentation.
	    </echo>
    </target>

    <target name="prepareenvironment">
        <condition property="dobuild.j2ee1.3">
            <and>
                <isset property="build.j2ee1.3" />
                <istrue value="${build.j2ee1.3}" />
            </and>
        </condition>
        <condition property="dobuild.j2ee1.4">
            <and>
                <isset property="build.j2ee1.4" />
                <istrue value="${build.j2ee1.4}" />
            </and>
        </condition>
        <antcall target="checkJDK1.3" />
        <antcall target="checkJDK1.4" />
        <antcall target="checkJDK1.5" />
        <antcall target="checkJDK1.6" />
        <antcall target="checkBuildJ2EE1.3" />
        <antcall target="checkBuildJ2EE1.4" />
        <antcall target="checkJava2HTML" />
        <condition property="dobuild.jdk1.3.j2ee1.3">
            <and>
                <isset property="dobuild.j2ee1.3" />
                <isset property="java1.3.home" />
            </and>
        </condition>
        <condition property="dobuild.jdk1.4.j2ee1.3">
            <and>
                <isset property="dobuild.j2ee1.3" />
                <isset property="java1.4.home" />
            </and>
        </condition>
        <condition property="dobuild.jdk1.5.j2ee1.3">
            <and>
                <isset property="dobuild.j2ee1.3" />
                <isset property="java1.5.home" />
            </and>
        </condition>
        <condition property="dobuild.jdk1.6.j2ee1.3">
            <and>
                <isset property="dobuild.j2ee1.3" />
                <isset property="java1.6.home" />
            </and>
        </condition>
        <condition property="dobuild.jdk1.4.j2ee1.4">
            <and>
                <isset property="dobuild.j2ee1.4" />
                <isset property="java1.4.home" />
            </and>
        </condition>
        <condition property="dobuild.jdk1.5.j2ee1.4">
            <and>
                <isset property="dobuild.j2ee1.4" />
                <isset property="java1.5.home" />
            </and>
        </condition>
        <condition property="dobuild.jdk1.6.j2ee1.4">
            <and>
                <isset property="dobuild.j2ee1.4" />
                <isset property="java1.6.home" />
            </and>
        </condition>
    </target>

    <target name="init" depends="prepareenvironment">

        <property name="version" value="0.4.3" />
        
        <tstamp>
            <format property="timestamp" pattern="MM/dd/yyyy hh:mm aa"/>
        </tstamp>

        <property name="src" value="src" />
        <property name="srcjdk1.3" value="srcjdk1.3" />
        <property name="srcjdk1.4" value="srcjdk1.4" />
        <property name="srcj2ee1.3" value="srcj2ee1.3" />
        <property name="srcj2ee1.4" value="srcj2ee1.4" />
        <property name="lib" value="lib" />
        <property name="config" value="config" />
        
        <property name="buildjdk1.5jee5" value="buildjdk1.5jee5" />
        <property name="buildjdk1.6jee5" value="buildjdk1.6jee5" />
        <property name="buildjdk1.4j2ee1.4" value="buildjdk1.4j2ee1.4" />
        <property name="buildjdk1.5j2ee1.4" value="buildjdk1.5j2ee1.4" />
        <property name="buildjdk1.6j2ee1.4" value="buildjdk1.6j2ee1.4" />
        <property name="buildjdk1.3j2ee1.3" value="buildjdk1.3j2ee1.3" />
        <property name="buildjdk1.4j2ee1.3" value="buildjdk1.4j2ee1.3" />
        <property name="buildjdk1.5j2ee1.3" value="buildjdk1.5j2ee1.3" />
        <property name="buildjdk1.6j2ee1.3" value="buildjdk1.6j2ee1.3" />
        <property name="dependenciesjdk1.5jee5" value="dependenciesjdk1.5jee5" />
        <property name="dependenciesjdk1.6jee5" value="dependenciesjdk1.6jee5" />
        <property name="dependenciesjdk1.4j2ee1.4" value="dependenciesjdk1.4j2ee1.4" />
        <property name="dependenciesjdk1.5j2ee1.4" value="dependenciesjdk1.5j2ee1.4" />
        <property name="dependenciesjdk1.6j2ee1.4" value="dependenciesjdk1.6j2ee1.4" />
        <property name="dependenciesjdk1.3j2ee1.3" value="dependenciesjdk1.3j2ee1.3" />
        <property name="dependenciesjdk1.4j2ee1.3" value="dependenciesjdk1.4j2ee1.3" />
        <property name="dependenciesjdk1.5j2ee1.3" value="dependenciesjdk1.5j2ee1.3" />
        <property name="dependenciesjdk1.6j2ee1.3" value="dependenciesjdk1.6j2ee1.3" />
        <property name="doc" value="doc" />
        <property name="bin" value="bin" />
        
        <property name="release.file" value="${bin}/mockrunner-${version}.zip" />
        <property name="release.root" value="${bin}/mockrunner-${version}" />
        <property name="release.doc" value="doc" />
        <property name="release.jar" value="jar" />
        <property name="release.lib" value="lib" />
        <property name="release.src" value="src" />
        <property name="release.srcjdk1.3" value="srcjdk1.3" />
        <property name="release.srcjdk1.4" value="srcjdk1.4" />
        <property name="release.srcj2ee1.3" value="srcj2ee1.3" />
        <property name="release.srcj2ee1.4" value="srcj2ee1.4" />
        
        <path id="classpath.jar">
            <fileset dir="${lib}">
                <include name="*.jar" />
                <exclude name="ant.jar" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
            </fileset>
        </path>
        
        <path id="classpathj2ee1.4.jar">
            <fileset dir="${lib}">
                <include name="*.jar" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.4">
                <include name="*.jar" />
            </fileset>
        </path>
        
        <path id="classpathj2ee1.3.jar">
            <fileset dir="${lib}">
                <include name="*.jar" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.3">
                <include name="*.jar" />
            </fileset>
        </path>
        
        <path id="classpathjdk1.3j2ee1.3.jar">
            <fileset dir="${lib}">
                <include name="*.jar" />
                <exclude name="struts-*.jar" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/struts1.2">
                <include name="struts.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.3">
                <include name="*.jar" />
            </fileset>
        </path>
        
        <patternset id="runtime.jars">
            <include name="**/*" />
            <exclude name="bcel-5.1.jar" />
            <exclude name="jakarta-regexp-1.3.jar" />
            <exclude name="jaranalyzer-1.2.jar" />
            <exclude name="ant.jar" />
        </patternset>
        
        <patternset id="full.jar.classes">
            <include name="**/*" />
            <exclude name="*.jar" />
            <exclude name="*.txt" />
            <exclude name="com/mockrunner/example/**" />
            <exclude name="com/mockrunner/test/**" />
            <exclude name="com/mockrunner/gen/**" />
        </patternset>
        
        <patternset id="basic.jar.base.classes">
            <include name="com/mockrunner/base/*Exception.*" />
            <include name="com/mockrunner/base/MultiThreadTestSuite.*" />
        </patternset>  
        
        <patternset id="jms.jar.classes">
            <patternset refid="basic.jar.base.classes"/>
            <include name="com/mockrunner/jms/**" />
            <include name="com/mockrunner/mock/jms/**" />
            <include name="com/mockrunner/util/common/**" />
            <include name="org/activemq/**" />
            <exclude name="com/mockrunner/jms/JMSTestCaseAdapter.*" />
        </patternset>
        
        <patternset id="jdbc.jar.classes">
            <patternset refid="basic.jar.base.classes"/>
            <include name="com/mockrunner/jdbc/**" />
            <include name="com/mockrunner/mock/jdbc/**" />
            <include name="com/mockrunner/util/common/**" />
            <exclude name="com/mockrunner/jdbc/JDBCTestCaseAdapter.*" />
        </patternset>
        
        <patternset id="ejb.jar.classes">
            <patternset refid="basic.jar.base.classes"/>
            <include name="com/mockrunner/ejb/**" />
            <include name="com/mockrunner/mock/ejb/**" />
            <include name="com/mockrunner/util/common/**" />
            <exclude name="com/mockrunner/ejb/EJBTestCaseAdapter.*" />
        </patternset>
        
        <patternset id="connector.jar.classes">
            <patternset refid="basic.jar.base.classes"/>
            <include name="com/mockrunner/connector/**" />
            <include name="com/mockrunner/mock/connector/**" />
            <include name="com/mockrunner/util/common/**" />
            <exclude name="com/mockrunner/connector/ConnectorTestCaseAdapter.*" />
        </patternset>
        
        <patternset id="basic.jar.web.base.classes">
            <include name="com/mockrunner/base/**" />
            <exclude name="com/mockrunner/base/BaseTestCase.*" />
            <exclude name="com/mockrunner/base/WebTestCase.*" />
            <exclude name="com/mockrunner/base/HTMLOutputTestCase.*" />
        </patternset>
        
        <patternset id="servlet.jar.classes">
            <patternset refid="basic.jar.web.base.classes"/>
            <include name="com/mockrunner/mock/web/**" />
            <exclude name="com/mockrunner/mock/web/ActionMockObjectFactory.*" />
            <exclude name="com/mockrunner/mock/web/MockActionForward.*" />
            <exclude name="com/mockrunner/mock/web/MockActionMapping.*" />
            <exclude name="com/mockrunner/mock/web/MockActionServlet.*" />
            <exclude name="com/mockrunner/mock/web/MockForwardConfig.*" />
            <exclude name="com/mockrunner/mock/web/MockModuleConfig.*" />
            <exclude name="com/mockrunner/mock/web/MockJspFragment.*" />
            <include name="com/mockrunner/servlet/**" />
            <include name="com/mockrunner/util/web/**" />
            <include name="com/mockrunner/util/common/**" />
            <exclude name="com/mockrunner/servlet/ServletTestCaseAdapter.*" />
        </patternset>
        
        <patternset id="tag.jar.classes">
            <patternset refid="basic.jar.web.base.classes"/>
            <include name="com/mockrunner/mock/web/**" />
            <exclude name="com/mockrunner/mock/web/ActionMockObjectFactory.*" />
            <exclude name="com/mockrunner/mock/web/MockActionForward.*" />
            <exclude name="com/mockrunner/mock/web/MockActionMapping.*" />
            <exclude name="com/mockrunner/mock/web/MockActionServlet.*" />
            <exclude name="com/mockrunner/mock/web/MockForwardConfig.*" />
            <exclude name="com/mockrunner/mock/web/MockModuleConfig.*" />
            <include name="com/mockrunner/tag/**" />
            <include name="com/mockrunner/util/web/**" />
            <include name="com/mockrunner/util/common/**" />
            <exclude name="com/mockrunner/tag/TagTestCaseAdapter.*" />
        </patternset>
        
        <patternset id="struts.jar.classes">
            <patternset refid="basic.jar.web.base.classes"/>
            <include name="com/mockrunner/mock/web/**" />
            <exclude name="com/mockrunner/mock/web/MockJspFragment.*" />
            <include name="com/mockrunner/struts/**" />
            <include name="com/mockrunner/util/web/**" />
            <include name="com/mockrunner/util/common/**" />
            <exclude name="com/mockrunner/servlet/ActionTestCaseAdapter.*" />
        </patternset>
        
    </target>
    
    <target name="compile" depends="init">
        <antcall target="compilejdk1.5jee5" inheritRefs="true" />
        <antcall target="compilejdk1.6jee5" inheritRefs="true" />
        <antcall target="compilejdk1.4j2ee1.4" inheritRefs="true" />
        <antcall target="compilejdk1.5j2ee1.4" inheritRefs="true" />
        <antcall target="compilejdk1.6j2ee1.4" inheritRefs="true" />
        <antcall target="compilejdk1.3j2ee1.3" inheritRefs="true" />
        <antcall target="compilejdk1.4j2ee1.3" inheritRefs="true" />
        <antcall target="compilejdk1.5j2ee1.3" inheritRefs="true" />
        <antcall target="compilejdk1.6j2ee1.3" inheritRefs="true" />
    </target>
    
    <target name="compilejdk1.5jee5" if="java1.5.home">
        <mkdir dir="${buildjdk1.5jee5}" />
        <javac destdir="${buildjdk1.5jee5}" compiler="javac1.5" source="1.5" target="1.5" executable="${java1.5.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpath.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/tag" />
            <src path="${src}/com/mockrunner/mock/web" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/jdbc" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcjdk1.4}" />
        </javac>
    </target>
    
    <target name="compilejdk1.6jee5" if="java1.6.home">
        <mkdir dir="${buildjdk1.6jee5}" />
        <javac srcdir="${src}" destdir="${buildjdk1.6jee5}" source="1.6" target="1.6" executable="${java1.6.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpath.jar" />
            </classpath>
        </javac>
    </target>

    <target name="compilejdk1.4j2ee1.4" if="dobuild.jdk1.4.j2ee1.4">
        <mkdir dir="${buildjdk1.4j2ee1.4}" />
        <javac destdir="${buildjdk1.4j2ee1.4}" compiler="javac1.4" source="1.4" target="1.4" executable="${java1.4.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpathj2ee1.4.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/tag" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/jdbc" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcjdk1.4}" />
            <src path="${srcj2ee1.4}" />
        </javac>
    </target>
    
    <target name="compilejdk1.5j2ee1.4" if="dobuild.jdk1.5.j2ee1.4">
        <mkdir dir="${buildjdk1.5j2ee1.4}" />
        <javac destdir="${buildjdk1.5j2ee1.4}" compiler="javac1.5" source="1.5" target="1.5" executable="${java1.5.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpathj2ee1.4.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/tag" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/jdbc" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcjdk1.4}" />
            <src path="${srcj2ee1.4}" />
        </javac>
    </target>
    
    <target name="compilejdk1.6j2ee1.4" if="dobuild.jdk1.6.j2ee1.4">
        <mkdir dir="${buildjdk1.6j2ee1.4}" />
        <javac destdir="${buildjdk1.6j2ee1.4}" source="1.6" target="1.6" executable="${java1.6.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpathj2ee1.4.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/tag" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/jdbc" />
            <src path="${src}/com/mockrunner/mock/jdbc" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcj2ee1.4}" />
        </javac>
    </target>
    
    <target name="compilejdk1.3j2ee1.3" if="dobuild.jdk1.3.j2ee1.3">
        <mkdir dir="${buildjdk1.3j2ee1.3}" />
        <javac destdir="${buildjdk1.3j2ee1.3}" compiler="javac1.3" target="1.3" executable="${java1.3.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpathjdk1.3j2ee1.3.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcjdk1.3}" />
            <src path="${srcj2ee1.3}" />
        </javac>
    </target>
    
    <target name="compilejdk1.4j2ee1.3" if="dobuild.jdk1.4.j2ee1.3">
        <mkdir dir="${buildjdk1.4j2ee1.3}" />
        <javac destdir="${buildjdk1.4j2ee1.3}" compiler="javac1.4" source="1.4" target="1.4" executable="${java1.4.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpathj2ee1.3.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/jdbc" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcjdk1.4}" />
            <src path="${srcj2ee1.3}" />
        </javac>
    </target>
    
    <target name="compilejdk1.5j2ee1.3" if="dobuild.jdk1.5.j2ee1.3">
        <mkdir dir="${buildjdk1.5j2ee1.3}" />
        <javac destdir="${buildjdk1.5j2ee1.3}" compiler="javac1.5" source="1.5" target="1.5" executable="${java1.5.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpathj2ee1.3.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/jdbc" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcjdk1.4}" />
            <src path="${srcj2ee1.3}" />
        </javac>
    </target>
    
    <target name="compilejdk1.6j2ee1.3" if="dobuild.jdk1.6.j2ee1.3">
        <mkdir dir="${buildjdk1.6j2ee1.3}" />
        <javac destdir="${buildjdk1.6j2ee1.3}" source="1.6" target="1.6" executable="${java1.6.home}/bin/javac" debug="true" debuglevel="source,lines" fork="true" nowarn="true">
            <classpath>
                <path refid="classpathj2ee1.3.jar" />
            </classpath>
            <src path="${src}/com/mockrunner/base" />
            <src path="${src}/com/mockrunner/servlet" />
            <src path="${src}/com/mockrunner/struts" />
            <src path="${src}/com/mockrunner/ejb" />
            <src path="${src}/com/mockrunner/connector" />
            <src path="${src}/com/mockrunner/mock/ejb" />
            <src path="${src}/com/mockrunner/jms" />
            <src path="${src}/com/mockrunner/mock/jms" />
            <src path="${src}/com/mockrunner/jdbc" />
            <src path="${src}/com/mockrunner/mock/jdbc" />
            <src path="${src}/com/mockrunner/mock/connector/cci" />
            <src path="${src}/com/mockrunner/mock/connector/spi" />
            <src path="${src}/com/mockrunner/util/common" />
            <src path="${src}/com/mockrunner/util/web" />
            <src path="${src}/org/activemq" />
            <src path="${srcj2ee1.3}" />
        </javac>
    </target>
    
    <target name="jars" depends="compile">
        <antcall target="jarsjdk1.5jee5" inheritRefs="true" />
        <antcall target="jarsjdk1.6jee5" inheritRefs="true" />
        <antcall target="jarsjdk1.4j2ee1.4" inheritRefs="true" />
        <antcall target="jarsjdk1.5j2ee1.4" inheritRefs="true" />
        <antcall target="jarsjdk1.6j2ee1.4" inheritRefs="true" />
        <antcall target="jarsjdk1.3j2ee1.3" inheritRefs="true" />
        <antcall target="jarsjdk1.4j2ee1.3" inheritRefs="true" />
        <antcall target="jarsjdk1.5j2ee1.3" inheritRefs="true" />
        <antcall target="jarsjdk1.6j2ee1.3" inheritRefs="true" />
    </target>
    
    <target name="jarsjdk1.5jee5" if="java1.5.home">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.5jee5}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.6jee5" if="java1.6.home">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="5" />
            <param name="builddir" value="${buildjdk1.6jee5}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.4j2ee1.4" if="dobuild.jdk1.4.j2ee1.4">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.4j2ee1.4}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.5j2ee1.4" if="dobuild.jdk1.5.j2ee1.4">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.5j2ee1.4}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.6j2ee1.4" if="dobuild.jdk1.6.j2ee1.4">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.4" />
            <param name="builddir" value="${buildjdk1.6j2ee1.4}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.3j2ee1.3" if="dobuild.jdk1.3.j2ee1.3">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.3" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.3j2ee1.3}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.4j2ee1.3" if="dobuild.jdk1.4.j2ee1.3">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.4" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.4j2ee1.3}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.5j2ee1.3" if="dobuild.jdk1.5.j2ee1.3">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.5j2ee1.3}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>
    
    <target name="jarsjdk1.6j2ee1.3" if="dobuild.jdk1.6.j2ee1.3">
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="full.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jms.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="jms.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-ejb.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="ejb.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jdbc.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="jdbc.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-jca.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="connector.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-servlet.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="servlet.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-tag.jar" />
            <param name="jdkver" value="1.6" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="tag.jar.classes" />
        </antcall>
        <antcall target="jar" inheritRefs="true" >
            <param name="jarname" value="mockrunner-struts.jar" />
            <param name="jdkver" value="1.5" />
            <param name="j2eever" value="1.3" />
            <param name="builddir" value="${buildjdk1.6j2ee1.3}" />
            <param name="jarpattern" value="struts.jar.classes" />
        </antcall>
    </target>

    <target name="jar">
        <filter token="version" value="${version}" />
        <filter token="timestamp" value="${timestamp}" />
        <filter token="jarname" value="${jarname}" />
        <filter token="jdkver" value="${jdkver}" />
        <filter token="j2eever" value="${j2eever}" />
        <delete file="${builddir}/${jarname}" />
        <copy todir="${builddir}" overwrite="true" filtering="true">
            <fileset dir="${basedir}">
                <include name="jarversion.txt" />
            </fileset>
        </copy>
        <jar destfile="${builddir}/${jarname}">
            <fileset dir="${builddir}">
                <patternset refid="${jarpattern}"/>
            </fileset>
            <fileset dir="${builddir}">
                <include name="*.txt" />
            </fileset>
            <fileset dir="${config}">
                <include name="junit/**" />
            </fileset>
            <fileset dir="${basedir}">
                <include name="LICENSE*.txt" />
                <exclude name="LICENSE-jaranalyzer.txt" />
            </fileset>
        </jar>
    </target>
    
    <target name="dependencies" depends="jars" if="java1.6.home">
        <antcall target="dependenciesjdk1.5jee5" inheritRefs="true" />
        <antcall target="dependenciesjdk1.6jee5" inheritRefs="true" />
        <antcall target="dependenciesjdk1.4j2ee1.4" inheritRefs="true" />
        <antcall target="dependenciesjdk1.5j2ee1.4" inheritRefs="true" />
        <antcall target="dependenciesjdk1.6j2ee1.4" inheritRefs="true" />
        <antcall target="dependenciesjdk1.3j2ee1.3" inheritRefs="true" />
        <antcall target="dependenciesjdk1.4j2ee1.3" inheritRefs="true" />
        <antcall target="dependenciesjdk1.5j2ee1.3" inheritRefs="true" />
        <antcall target="dependenciesjdk1.6j2ee1.3" inheritRefs="true" />
    </target>
    
    <target name="dependenciesjdk1.5jee5" if="java1.5.home">
        <mkdir dir="${dependenciesjdk1.5jee5}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpath.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.5jee5}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.5jee5}">
             <fileset dir="${buildjdk1.5jee5}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.5jee5}" 
                     destfile="${dependenciesjdk1.5jee5}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.6jee5" if="java1.6.home">
        <mkdir dir="${dependenciesjdk1.6jee5}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpath.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.6jee5}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.6jee5}">
             <fileset dir="${buildjdk1.6jee5}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.6jee5}" 
                     destfile="${dependenciesjdk1.6jee5}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.4j2ee1.4" if="dobuild.jdk1.4.j2ee1.4">
        <mkdir dir="${dependenciesjdk1.4j2ee1.4}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpath.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.4j2ee1.4}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.4">
                <include name="*.jar" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.4j2ee1.4}">
             <fileset dir="${buildjdk1.4j2ee1.4}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.4j2ee1.4}" 
                     destfile="${dependenciesjdk1.4j2ee1.4}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.5j2ee1.4" if="dobuild.jdk1.5.j2ee1.4">
        <mkdir dir="${dependenciesjdk1.5j2ee1.4}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpath.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.5j2ee1.4}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.4">
                <include name="*.jar" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.5j2ee1.4}">
             <fileset dir="${buildjdk1.5j2ee1.4}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.5j2ee1.4}" 
                     destfile="${dependenciesjdk1.5j2ee1.4}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.6j2ee1.4" if="dobuild.jdk1.6.j2ee1.4">
        <mkdir dir="${dependenciesjdk1.6j2ee1.4}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpath.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.6j2ee1.4}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.4">
                <include name="*.jar" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.6j2ee1.4}">
             <fileset dir="${buildjdk1.6j2ee1.4}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.6j2ee1.4}" 
                     destfile="${dependenciesjdk1.6j2ee1.4}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.3j2ee1.3" if="dobuild.jdk1.3.j2ee1.3">
        <mkdir dir="${dependenciesjdk1.3j2ee1.3}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpathjdk1.3j2ee1.3.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.3j2ee1.3}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
                <exclude name="struts-*.jar" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/struts1.2">
                <include name="*.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.3">
                <include name="*.jar" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.3j2ee1.3}">
             <fileset dir="${buildjdk1.3j2ee1.3}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.3j2ee1.3}" 
                     destfile="${dependenciesjdk1.3j2ee1.3}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.4j2ee1.3" if="dobuild.jdk1.4.j2ee1.3">
        <mkdir dir="${dependenciesjdk1.4j2ee1.3}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpathj2ee1.3.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.4j2ee1.3}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
                <exclude name="struts-*.jar" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/struts1.2">
                <include name="*.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.3">
                <include name="*.jar" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.4j2ee1.3}">
             <fileset dir="${buildjdk1.4j2ee1.3}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.4j2ee1.3}" 
                     destfile="${dependenciesjdk1.4j2ee1.3}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.5j2ee1.3" if="dobuild.jdk1.5.j2ee1.3">
        <mkdir dir="${dependenciesjdk1.5j2ee1.3}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpathj2ee1.3.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.5j2ee1.3}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
                <exclude name="struts-*.jar" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/struts1.2">
                <include name="*.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.3">
                <include name="*.jar" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.5j2ee1.3}">
             <fileset dir="${buildjdk1.5j2ee1.3}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.5j2ee1.3}" 
                     destfile="${dependenciesjdk1.5j2ee1.3}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>
    
    <target name="dependenciesjdk1.6j2ee1.3" if="dobuild.jdk1.6.j2ee1.3">
        <mkdir dir="${dependenciesjdk1.6j2ee1.3}" />
        <taskdef name="jaranalyzer" classname="com.kirkk.analyzer.textui.JarAnalyzerTask">
            <classpath>
                <pathelement location="${buildjdk1.6jee5}" />
                <pathelement location="${config}" />
                <path refid="classpathj2ee1.3.jar" />
            </classpath>
        </taskdef>
        <copy todir="${dependenciesjdk1.6j2ee1.3}">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
                <exclude name="j2ee1.3/**" />
                <exclude name="j2ee1.4/**" />
                <exclude name="struts1.2/**" />
                <exclude name="struts-*.jar" />
                <exclude name="servlet-api.jar" />
                <exclude name="jsp-api.jar" />
                <exclude name="el-api.jar" />
                <exclude name="jasper.jar" />
                <exclude name="jasper-el.jar" />
                <exclude name="jboss-javaee-modified.jar" />
            </fileset>
            <fileset dir="${lib}/struts1.2">
                <include name="*.jar" />
            </fileset>
            <fileset dir="${lib}/j2ee1.3">
                <include name="*.jar" />
            </fileset>
        </copy>
        
        <copy todir="${dependenciesjdk1.6j2ee1.3}">
             <fileset dir="${buildjdk1.6j2ee1.3}">
                 <include name="*.jar" />
             </fileset>
        </copy>

        <jaranalyzer srcdir="${dependenciesjdk1.6j2ee1.3}" 
                     destfile="${dependenciesjdk1.6j2ee1.3}/dependencies.txt"
                     summaryclass="com.mockrunner.gen.jar.MockrunnerTextSummary"/>
        
    </target>

    <target name="javadoc" depends="init" if="java1.6.home">
        <mkdir dir="${doc}/api" />
        <javadoc destdir="${doc}/api" 
                 source="1.5" 
                 linksource="true" 
                 author="true" 
                 version="true" 
                 use="true" 
                 windowtitle="Mockrunner">

            <classpath>
                <pathelement location="${buildjdk1.6j2ee1.4}" />
                <path refid="classpath.jar" />
            </classpath>

            <fileset dir="${src}" defaultexcludes="yes">
                <include name="com/mockrunner/**" />
                <exclude name="com/mockrunner/**/*.txt" />
                <exclude name="com/mockrunner/**/*.properties" />
                <exclude name="com/mockrunner/**/*.xml" />
                <exclude name="com/mockrunner/test/**" />
                <exclude name="com/mockrunner/example/**" />
                <exclude name="com/mockrunner/gen/**" />
            </fileset>

            <doctitle><![CDATA[<h1>Mockrunner</h1>]]></doctitle>
        </javadoc>
    </target>

	<target name="java2html" if="java2html.home" depends="init">
	    <mkdir dir="${doc}/examples" />
	    <taskdef name="java2html" classname="com.java2html.Java2HTMLTask" classpath="${java2html.home}/j2h.jar" />
	
	    <java2html title="Mockrunner" simple="no" tabsize="4" marginsize="0" header="true" footer="false" destination="${doc}/examples">
	        <fileset dir="${src}">
	            <include name="com/mockrunner/example/**/*.java" />
	        </fileset>
	    </java2html>
	</target>
  
	<target name="release" depends="clean,compile,jars,dependencies,javadoc,java2html">
	    <mkdir dir="${release.root}" />
        <filter token="version" value="${version}" />
        <filter token="timestamp" value="${timestamp}" />
	    <copy todir="${release.root}" filtering="true">
            <fileset dir="${basedir}">
                <include name="*.txt" />
                <exclude name="LICENSE-jaranalyzer.txt" />
                <exclude name="jarversion.txt" />
            </fileset>
	    </copy>
        <antcall target="copydoc" inheritRefs="true" />
        <antcall target="copyjar" inheritRefs="true" />   
        <antcall target="copysrc" inheritRefs="true" />  
        <antcall target="copylibjdk1.5jee5" inheritRefs="true" />
        <antcall target="copylibjdk1.6jee5" inheritRefs="true" />   
        <antcall target="copylibjdk1.4j2ee1.4" inheritRefs="true" />
        <antcall target="copylibjdk1.5j2ee1.4" inheritRefs="true" />
        <antcall target="copylibjdk1.6j2ee1.4" inheritRefs="true" />
        <antcall target="copylibjdk1.3j2ee1.3" inheritRefs="true" />
        <antcall target="copylibjdk1.4j2ee1.3" inheritRefs="true" />
        <antcall target="copylibjdk1.5j2ee1.3" inheritRefs="true" />
        <antcall target="copylibjdk1.6j2ee1.3" inheritRefs="true" />
        <zip destfile="${release.file}" basedir="${bin}" />
	</target>
    
    <target name="copydoc">
        <mkdir dir="${release.root}/${release.doc}" />
        <copy todir="${release.root}/${release.doc}">
            <fileset dir="${doc}">
                <include name="**/*" />
            </fileset>
        </copy>
    </target>
    
    <target name="copyjar">
        <mkdir dir="${release.root}/${release.jar}" />
        <copy todir="${release.root}/${release.jar}" preservelastmodified="true">
            <fileset dir="${lib}">
                <patternset refid="runtime.jars" />
            </fileset>
        </copy>
    </target>
        
    <target name="copysrc">
        <mkdir dir="${release.root}/${release.src}" />
        <mkdir dir="${release.root}/${release.srcjdk1.3}" />
        <mkdir dir="${release.root}/${release.srcjdk1.4}" />
        <mkdir dir="${release.root}/${release.srcj2ee1.3}" />
        <mkdir dir="${release.root}/${release.srcj2ee1.4}" />
        <copy todir="${release.root}/${release.src}">
            <fileset dir="${src}">
                <include name="**/*" />
            </fileset>
        </copy>
        <copy todir="${release.root}/${release.srcjdk1.3}">
            <fileset dir="${srcjdk1.3}">
                <include name="**/*" />
            </fileset>
        </copy>
        <copy todir="${release.root}/${release.srcjdk1.4}">
            <fileset dir="${srcjdk1.4}">
                <include name="**/*" />
            </fileset>
        </copy>
        <copy todir="${release.root}/${release.srcj2ee1.3}">
            <fileset dir="${srcj2ee1.3}">
                <include name="**/*" />
            </fileset>
        </copy>
        <copy todir="${release.root}/${release.srcj2ee1.4}">
            <fileset dir="${srcj2ee1.4}">
                <include name="**/*" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.5jee5" if="java1.5.home">
        <mkdir dir="${release.root}/${release.lib}/jdk1.5/jee5" />
        <copy todir="${release.root}/${release.lib}/jdk1.5/jee5">
            <fileset dir="${buildjdk1.5jee5}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.5jee5" />
    </target>
    
    <target name="copydependenciesjdk1.5jee5" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.5/jee5">
            <fileset dir="${dependenciesjdk1.5jee5}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.6jee5" if="java1.6.home">
        <mkdir dir="${release.root}/${release.lib}/jdk1.6/jee5" />
        <copy todir="${release.root}/${release.lib}/jdk1.6/jee5">
            <fileset dir="${buildjdk1.6jee5}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.6jee5" />
    </target>
    
    <target name="copydependenciesjdk1.6jee5" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.6/jee5">
            <fileset dir="${dependenciesjdk1.6jee5}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.4j2ee1.4" if="dobuild.jdk1.4.j2ee1.4">
        <mkdir dir="${release.root}/${release.lib}/jdk1.4/j2ee1.4" />
        <copy todir="${release.root}/${release.lib}/jdk1.4/j2ee1.4">
            <fileset dir="${buildjdk1.4j2ee1.4}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.4j2ee1.4" />
    </target>
    
    <target name="copydependenciesjdk1.4j2ee1.4" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.4/j2ee1.4">
            <fileset dir="${dependenciesjdk1.4j2ee1.4}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.5j2ee1.4" if="dobuild.jdk1.5.j2ee1.4">
        <mkdir dir="${release.root}/${release.lib}/jdk1.5/j2ee1.4" />
        <copy todir="${release.root}/${release.lib}/jdk1.5/j2ee1.4">
            <fileset dir="${buildjdk1.5j2ee1.4}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.5j2ee1.4" />
    </target>
    
    <target name="copydependenciesjdk1.5j2ee1.4" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.5/j2ee1.4">
            <fileset dir="${dependenciesjdk1.5j2ee1.4}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.6j2ee1.4" if="dobuild.jdk1.6.j2ee1.4">
        <mkdir dir="${release.root}/${release.lib}/jdk1.6/j2ee1.4" />
        <copy todir="${release.root}/${release.lib}/jdk1.6/j2ee1.4">
            <fileset dir="${buildjdk1.6j2ee1.4}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.6j2ee1.4" />
    </target>
    
    <target name="copydependenciesjdk1.6j2ee1.4" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.6/j2ee1.4">
            <fileset dir="${dependenciesjdk1.6j2ee1.4}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.3j2ee1.3" if="dobuild.jdk1.3.j2ee1.3">
        <mkdir dir="${release.root}/${release.lib}/jdk1.3/j2ee1.3" />
        <copy todir="${release.root}/${release.lib}/jdk1.3/j2ee1.3">
            <fileset dir="${buildjdk1.3j2ee1.3}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.3j2ee1.3" />
    </target>
    
    <target name="copydependenciesjdk1.3j2ee1.3" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.3/j2ee1.3">
            <fileset dir="${dependenciesjdk1.3j2ee1.3}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.4j2ee1.3" if="dobuild.jdk1.4.j2ee1.3">
        <mkdir dir="${release.root}/${release.lib}/jdk1.4/j2ee1.3" />
        <copy todir="${release.root}/${release.lib}/jdk1.4/j2ee1.3">
            <fileset dir="${buildjdk1.4j2ee1.3}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.4j2ee1.3" />
    </target>
    
    <target name="copydependenciesjdk1.4j2ee1.3" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.4/j2ee1.3">
            <fileset dir="${dependenciesjdk1.4j2ee1.3}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.5j2ee1.3" if="dobuild.jdk1.5.j2ee1.3">
        <mkdir dir="${release.root}/${release.lib}/jdk1.5/j2ee1.3" />
        <copy todir="${release.root}/${release.lib}/jdk1.5/j2ee1.3">
            <fileset dir="${buildjdk1.5j2ee1.3}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.5j2ee1.3" />
    </target>
    
    <target name="copydependenciesjdk1.5j2ee1.3" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.5/j2ee1.3">
            <fileset dir="${dependenciesjdk1.5j2ee1.3}">
                <include name="*.txt" />
            </fileset>
        </copy>
    </target>
    
    <target name="copylibjdk1.6j2ee1.3" if="dobuild.jdk1.6.j2ee1.3">
        <mkdir dir="${release.root}/${release.lib}/jdk1.6/j2ee1.3" />
        <copy todir="${release.root}/${release.lib}/jdk1.6/j2ee1.3">
            <fileset dir="${buildjdk1.6j2ee1.3}">
                <include name="*.jar" />
            </fileset>
        </copy>
        <antcall target="copydependenciesjdk1.6j2ee1.3" />
    </target>
    
    <target name="copydependenciesjdk1.6j2ee1.3" if="java1.6.home">
        <copy todir="${release.root}/${release.lib}/jdk1.6/j2ee1.3">
           <fileset dir="${dependenciesjdk1.6j2ee1.3}">
               <include name="*.txt" />
           </fileset>
       </copy>
   </target>

    <target name="clean" depends="init">
        <delete dir="${bin}" />
        <delete dir="${doc}" />
        <delete dir="${buildjdk1.5jee5}" />
        <delete dir="${buildjdk1.6jee5}" />
        <delete dir="${buildjdk1.4j2ee1.4}" />
        <delete dir="${buildjdk1.5j2ee1.4}" />
        <delete dir="${buildjdk1.6j2ee1.4}" />
        <delete dir="${buildjdk1.3j2ee1.3}" />
        <delete dir="${buildjdk1.4j2ee1.3}" />
        <delete dir="${buildjdk1.5j2ee1.3}" />
        <delete dir="${buildjdk1.6j2ee1.3}" />
        <delete dir="${dependenciesjdk1.5jee5}" />
        <delete dir="${dependenciesjdk1.6jee5}" />
        <delete dir="${dependenciesjdk1.4j2ee1.4}" />
        <delete dir="${dependenciesjdk1.5j2ee1.4}" />
        <delete dir="${dependenciesjdk1.6j2ee1.4}" />
        <delete dir="${dependenciesjdk1.3j2ee1.3}" />
        <delete dir="${dependenciesjdk1.4j2ee1.3}" />
        <delete dir="${dependenciesjdk1.5j2ee1.3}" />
        <delete dir="${dependenciesjdk1.6j2ee1.3}" />
    </target>

</project>